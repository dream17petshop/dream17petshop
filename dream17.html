<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <meta name="format-detection" content="telephone=no">

    <title>å¤¢17ç²¾å“å¯µç‰©ç¾å®¹æ—…é¤¨</title>
    
    <link rel="icon" type="image/png" href="logo.png">
    <link rel="apple-touch-icon" href="logo.png">
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">    

    <!-- å¼•å…¥é«˜ç´šæ„Ÿå­—é«” -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300&family=Noto+Sans+TC:wght@300;400;500;700&family=Noto+Serif+TC:wght@400;500;700;900&display=swap" rel="stylesheet">

    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://unpkg.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = { 
            theme: {
                extend: {
                    colors: {
                        bg: '#FDFBF7',
                        card: '#FFFFFF',
                        primary: '#334155',
                        secondary: '#64748B',
                        pink: '#FFD1DC',
                        pinkDark: '#FFB7B2',
                        blue: '#AEC6CF',
                        blueDark: '#9BB8CC',
                        gold: '#B38728',
                        border: '#E2E8F0',
                        // æ–°å¢ç«ç‘°é‡‘è‰²ç³»
                        roseGold: {
                            light: '#FADADD',
                            DEFAULT: '#E0BFB8', // ä¸»è‰²
                            dark: '#C4A48C',
                            gradient: 'linear-gradient(135deg, #E0BFB8 0%, #C4A48C 100%)',
                        }
                    },
                    fontFamily: {
                        sans: ['"Noto Sans TC"', 'sans-serif'],
                        serif: ['"Noto Serif TC"', 'serif'],
                        display: ['"Playfair Display"', 'serif'],
                        elegant: ['"Cormorant Garamond"', 'serif'],
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(0, 0, 0, 0.05)',
                        'hover': '0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)',
                        'gold-glow': '0 0 20px rgba(196, 164, 140, 0.4)',
                    },
                    backgroundImage: {
                        'shimmer': 'linear-gradient(45deg, rgba(255,255,255,0) 40%, rgba(255,255,255,0.4) 50%, rgba(255,255,255,0) 60%)',
                    }
                }
            }
        }
    </script>

    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.1.7/dist/signature_pad.umd.min.js" defer></script>
    <script src="https://unpkg.com/lucide@latest" defer></script>

    <style>
        body { 
            background-color: #FDFBF7; 
            font-family: 'Noto Sans TC', sans-serif;
            color: #334155; 
            -webkit-tap-highlight-color: transparent;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            line-height: 1.6;
        }
        h1, h2, h3, .font-serif { font-family: 'Noto Serif TC', serif; }

        .clean-card { 
            background: #FFFFFF; 
            border: 1px solid #E2E8F0; 
            border-radius: 20px; 
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }
        .clean-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.08);
        }

        /* --- é¦–é æŒ‰éˆ•å¡ç‰‡æ¨£å¼ (ç«ç‘°é‡‘æ¼¸å±¤å„ªåŒ–ç‰ˆ - å°ºå¯¸ç¸®å°èˆ‡å­—é«”æé‚Š) --- */
        .hero-btn-card {
            position: relative;
            background: #FFFFFF;
            border: 1px solid #E2E8F0;
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: row; 
            align-items: center;
            padding: 0;
            height: 100px; /* ç¸®å°é«˜åº¦ï¼šåŸæœ¬ 140px -> 100px */
        }
        
        /* æ¼¸å±¤èƒŒæ™¯å±¤ */
        .hero-btn-card .gradient-bg {
            position: absolute;
            inset: 0;
            opacity: 0.9;
            transition: all 0.5s ease;
            z-index: 0;
        }
        
        /* Shimmer å…‰æ¾¤å‹•ç•«å±¤ */
        .hero-btn-card .shimmer-layer {
            position: absolute;
            inset: 0;
            background-image: linear-gradient(45deg, rgba(255,255,255,0) 40%, rgba(255,255,255,0.4) 50%, rgba(255,255,255,0) 60%);
            background-size: 200% 100%;
            animation: shimmer 2.5s infinite;
            opacity: 0.3;
            z-index: 1;
            pointer-events: none;
        }

        @keyframes shimmer {
            0% { background-position: -200% center; }
            100% { background-position: 200% center; }
        }

        /* ç¾å®¹æŒ‰éˆ•æ¨£å¼ - ç«ç‘°é‡‘ */
        .hero-btn-card.pink .gradient-bg {
            background: linear-gradient(135deg, #FFD1DC 0%, #E0BFB8 100%);
        }
        .hero-btn-card.pink:hover {
            border-color: #FFD1DC;
            box-shadow: 0 10px 20px -5px rgba(224, 191, 184, 0.5);
        }
        .hero-btn-card.pink:hover .gradient-bg {
            opacity: 1;
        }
        .hero-btn-card.pink .icon-wrapper {
            background: rgba(255, 255, 255, 0.3);
            color: #fff;
            backdrop-filter: blur(4px);
            border: 1px solid rgba(255, 255, 255, 0.4);
        }
        .hero-btn-card.pink:hover .icon-wrapper {
            transform: scale(1.1);
            background: rgba(255, 255, 255, 0.5);
        }
        
        /* æ–‡å­—æé‚Šèˆ‡æ¨£å¼ */
        .hero-btn-card.pink .hero-content h3,
        .hero-btn-card.pink .hero-content p {
            color: #fff;
            text-shadow: 0 1px 2px rgba(0,0,0,0.1), 0 0 1px rgba(255,255,255,0.5); /* å¢åŠ ç™½è‰²æé‚Šæ•ˆæœ */
            -webkit-text-stroke: 0.3px rgba(255,255,255,0.4); /* é‡å° Webkit ç€è¦½å™¨çš„ç´°å¾®æé‚Š */
        }

        /* ä½å®¿æŒ‰éˆ•æ¨£å¼ - ç«ç‘°é‡‘è®Šé«” */
        .hero-btn-card.blue .gradient-bg {
            background: linear-gradient(135deg, #E0BFB8 0%, #C4A48C 100%);
        }
        .hero-btn-card.blue:hover {
            border-color: #C4A48C;
            box-shadow: 0 10px 20px -5px rgba(196, 164, 140, 0.5);
        }
        .hero-btn-card.blue:hover .gradient-bg {
            opacity: 1;
        }
        .hero-btn-card.blue .icon-wrapper {
            background: rgba(255, 255, 255, 0.3);
            color: #fff;
            backdrop-filter: blur(4px);
            border: 1px solid rgba(255, 255, 255, 0.4);
        }
        .hero-btn-card.blue:hover .icon-wrapper {
            transform: scale(1.1);
            background: rgba(255, 255, 255, 0.5);
        }
        
        /* æ–‡å­—æé‚Šèˆ‡æ¨£å¼ */
        .hero-btn-card.blue .hero-content h3,
        .hero-btn-card.blue .hero-content p {
            color: #fff;
            text-shadow: 0 1px 2px rgba(0,0,0,0.1), 0 0 1px rgba(255,255,255,0.5);
            -webkit-text-stroke: 0.3px rgba(255,255,255,0.4);
        }

        .icon-wrapper {
            width: 64px; height: 64px; /* ç¸®å°åœ–æ¨™å®¹å™¨ï¼šåŸæœ¬ 80px -> 64px */
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            margin-left: 1.5rem; margin-right: 1rem; /* èª¿æ•´é–“è· */
            transition: all 0.3s ease;
            flex-shrink: 0;
            position: relative;
            z-index: 2;
        }

        .hero-content {
            flex: 1;
            text-align: left;
            padding-right: 1.5rem; /* èª¿æ•´å³å´é–“è· */
            position: relative;
            z-index: 2;
        }

        /* --- æˆ¿å‹å¡ç‰‡æ¨£å¼ --- */
        .room-card {
            background: white; border-radius: 16px; overflow: hidden;
            box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease; border: 1px solid #F1F5F9;
            min-width: 260px;
        }
        .room-card:hover { transform: translateY(-4px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.08); }
        
        /* --- äº®é»å¡ç‰‡ --- */
        .feature-card {
            background: rgba(255, 255, 255, 0.8); border-radius: 20px;
            padding: 1.5rem; text-align: center; border: 1px solid #F1F5F9;
            transition: all 0.3s ease;
            min-width: 140px;
        }
        .feature-card:hover { background: #FFFFFF; transform: scale(1.02); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.08); }
        .feature-icon {
            width: 56px; height: 56px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            margin: 0 auto 1rem; color: white;
        }

        /* --- è¼¸å…¥æ¡†æ¨£å¼ --- */
        .soft-input {
            width: 100%; background: #FFFFFF; border: 1px solid #E2E8F0;
            border-radius: 12px; padding: 0.8rem 1rem; font-size: 16px; color: #334155;
            transition: all 0.2s ease; box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }
        .soft-input:focus {
            border-color: #B38728;
            box-shadow: 0 0 0 3px rgba(179, 135, 40, 0.1);
            outline: none;
        }
        .soft-input::placeholder { color: #94A3B8; }

        /* --- Toast é€šçŸ¥ --- */
        .toast-enter { animation: slide-down 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        @keyframes slide-down {
            from { transform: translate(-50%, -100%); opacity: 0; }
            to { transform: translate(-50%, 24px); opacity: 1; }
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        .shake-error { animation: shake 0.4s ease-in-out; }
        
        /* --- æ©«å‘æ»¾å‹•éš±è—æ»¾å‹•æ¢ --- */
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>

<body>
    <div id="root"></div>
    
<script type="text/babel">
const { useState, useEffect, useRef, useMemo, useCallback } = React;

// --- Icon Component ---
const Icon = ({ name, size = 20, className = "" }) => {
    const iconRef = useRef(null);
    useEffect(() => {
        if (typeof window.lucide !== 'undefined' && iconRef.current) {
            window.lucide.createIcons({ 
                root: iconRef.current, 
                attrs: { "stroke-width": 2, class: className },
                name: name,
                nameAttr: 'data-lucide'
            });
        }
    }, [name, className]);
    return <span ref={iconRef} key={name} className="inline-flex items-center justify-center"><i data-lucide={name} style={{ width: size, height: size }}></i></span>;
};

// --- Toast Component ---
const Toast = ({ message, type = 'error', onClose }) => {
    useEffect(() => {
        const timer = setTimeout(onClose, 3000);
        return () => clearTimeout(timer);
    }, [onClose]);
    const bgColor = type === 'error' ? 'bg-red-500' : 'bg-green-500';
    const iconName = type === 'error' ? 'alert-circle' : 'check-circle';
    return (
        <div className={`fixed top-0 left-1/2 z-[200] flex items-center gap-3 px-6 py-4 rounded-full shadow-xl text-white font-bold text-sm tracking-wide toast-enter ${bgColor} backdrop-blur-md`}>
            <Icon name={iconName} size={20} className="text-white" />
            <span>{message}</span>
        </div>
    );
};

// --- Terms Modal Component ---
const TermsModal = ({ isOpen, onClose, title, children, onAgree }) => {
    const contentRef = useRef(null);
    const [canAgree, setCanAgree] = useState(false);

    useEffect(() => {
        if (isOpen) {
            setCanAgree(false);
            document.body.style.overflow = 'hidden';
        } else {
            document.body.style.overflow = '';
        }
        return () => { document.body.style.overflow = ''; };
    }, [isOpen]);

    const handleScroll = (e) => {
        const { scrollTop, scrollHeight, clientHeight } = e.target;
        if (scrollHeight - scrollTop - clientHeight < 50) {
            setCanAgree(true);
        }
    };

    useEffect(() => {
        if (isOpen) {
            setCanAgree(false);
            const timer = setTimeout(() => {
                if (contentRef.current) {
                    if (contentRef.current.scrollHeight <= contentRef.current.clientHeight + 1) {
                        setCanAgree(true);
                    }
                }
            }, 500);
            return () => clearTimeout(timer);
        }
    }, [isOpen]);

    if (!isOpen) return null;

    return (
        <div className="fixed inset-0 z-[150] bg-white/95 flex flex-col animate-in slide-in-from-bottom-full duration-300 backdrop-blur-sm">
            <div className="px-5 py-4 border-b border-gray-100 bg-white/90 backdrop-blur-sm flex justify-between items-center shrink-0">
                <h3 className="text-lg font-black text-primary font-serif">{title}</h3>
                <button type="button" onClick={onClose} className="p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors">
                    <Icon name="x" size={20} className="text-gray-500" />
                </button>
            </div>

            <div 
                ref={contentRef}
                onScroll={handleScroll}
                className="flex-1 overflow-y-auto p-6 text-sm leading-relaxed text-primary space-y-4"
            >
                {children}
                <div className="h-10"></div>
            </div>

            <div className="p-5 border-t border-gray-100 bg-white shrink-0 shadow-[0_-5px_20px_rgba(0,0,0,0.05)]">
                {!canAgree && (
                    <div className="text-center text-xs font-bold text-red-500 mb-3 animate-pulse">
                        ğŸ‘‡ è«‹æ»‘å‹•è‡³æœ€åº•éƒ¨ä»¥åŒæ„æ¢æ¬¾
                    </div>
                )}
                <button 
                    onClick={() => {
                        if(canAgree) {
                            if (onAgree) onAgree();
                            onClose();
                        }
                    }}
                    type="button"
                    disabled={!canAgree}
                    className={`w-full py-4 rounded-xl font-bold text-base flex items-center justify-center gap-2 transition-all ${
                        canAgree 
                            ? 'bg-roseGold text-white shadow-lg shadow-roseGold/30 hover:bg-roseGold-dark' 
                            : 'bg-gray-200 text-gray-400 cursor-not-allowed'
                    }`}
                >
                    <Icon name="check-circle" size={20} />
                    æœ¬äººå·²è©³é–±ä¸¦åŒæ„ä»¥ä¸Šå¥‘ç´„å…§å®¹
                </button>
            </div>
        </div>
    );
};

// --- Main App Component ---
const App = () => {
    // State Management
    const [view, setView] = useState('entry'); // entry, form
    const [isBoarding, setIsBoarding] = useState(false);
    const [showFullSig, setShowFullSig] = useState(false);
    const [realtimeSig, setRealtimeSig] = useState(null);
    const [activeModal, setActiveModal] = useState(null);
    const [termsRead, setTermsRead] = useState({ grooming: false, boarding: false });
    const [isSubmitting, setIsSubmitting] = useState(false);
    const [toast, setToast] = useState(null);
    const [errors, setErrors] = useState({});
    
    // æŠ˜ç–Šç‹€æ…‹
    const [catRoomsOpen, setCatRoomsOpen] = useState(false);
    const [dogRoomsOpen, setDogRoomsOpen] = useState(false);
    const [featuresOpen, setFeaturesOpen] = useState(false);

    // Form Data State
    const [formData, setFormData] = useState({
        email: '', owner_name: '', owner_id: '', phone: '', address: '', 
        emergency_name: '', emergency_phone: '',
        pet_name: '', breed: '', sex: '', age: '', age_months: '', is_under_one: false, weight: '', fix: '',
        chip_status: '', chip_id: '', preferred_clinic: '',
        grooming_temperament: '',
        dog_traits: [], is_barking: '', barking_detail: '',
        medical_status: '', medical_history: [], medical_history_other: '',
        checkin_date: '', checkout_date: '', stay_exp: '',
        crate_status: [], food_aggr: '', pad_toilet: '',
        vaccine: '', deworm: '', deworm_brand: '', vaccine_file: null,
        allergy: '', personality: '', special_notes: '', boarding_notice_agree: false,
        service_type: '', service_type_other: '', 
        pickup_time: '',
        legal_agree: false
    });

    const fullSigCanvasRef = useRef(null);
    const padInstance = useRef(null);

    // Helper Functions
    const showToast = (message, type = 'error') => setToast({ message, type });
    
    const handleChange = (field, value) => {
        let finalVal = value;
        if (field === 'email') finalVal = value.toLowerCase();
        if (field === 'owner_id') finalVal = value.toUpperCase();
        setFormData(prev => ({ ...prev, [field]: finalVal }));
        if (errors[field]) setErrors(prev => ({ ...prev, [field]: null }));
    };

    const toggleArrayField = (field, value) => {
        setFormData(prev => {
            const currentArr = Array.isArray(prev[field]) ? prev[field] : [];
            let updatedArr = currentArr.includes(value) ? currentArr.filter(i => i !== value) : [...currentArr, value];
            if (updatedArr.length > 0 && errors[field]) setErrors(prev => ({ ...prev, [field]: null }));
            return { ...prev, [field]: updatedArr };
        });
    };

    const pillBtn = (field, val, active, colorClass) => (
        <button type="button" onClick={() => handleChange(field, val)} 
            className={`pill-button flex-1 py-3.5 rounded-xl font-bold text-sm border-2 transition-all duration-300 transform ${active ? `bg-${colorClass} text-primary border-transparent shadow-lg scale-[1.02]` : 'bg-white text-primary border-gray-200 hover:border-gray-400 hover:scale-[1.01]'}`}>
            <span className="flex items-center justify-center gap-1.5">
                {active && <Icon name="check-circle" size={14} />}
                {val}
            </span>
        </button>
    );

    // Validation Logic (Simplified for preview)
    const handleSubmit = async () => {
        setIsSubmitting(true);
        showToast("æ­£åœ¨æäº¤è³‡æ–™...", "success");
        setTimeout(() => {
            setIsSubmitting(false);
            showToast("âœ… æäº¤æˆåŠŸï¼(é è¦½ç‰ˆ)", "success");
            setView('entry');
        }, 2000);
    };

    // Signature Pad Logic
    useEffect(() => {
        let timer;
        if (showFullSig && fullSigCanvasRef.current) {
            document.body.style.overflow = 'hidden';
            timer = setTimeout(() => {
                const canvas = fullSigCanvasRef.current;
                const container = canvas.parentElement;
                const rect = container.getBoundingClientRect();
                canvas.width = rect.width;
                canvas.height = rect.height;
                
                if (padInstance.current) padInstance.current.off();
                
                padInstance.current = new window.SignaturePad(canvas, { 
                    penColor: "rgb(51, 65, 85)",
                    backgroundColor: "rgb(255, 255, 255)", 
                    minWidth: 1.5,
                    maxWidth: 3.0,
                });
            }, 100);
        }
        return () => { 
            if (timer) clearTimeout(timer);
            if (padInstance.current) padInstance.current.off(); 
            document.body.style.overflow = '';
        };
    }, [showFullSig]);

    // Render Entry View
    if (view === 'entry') {
        return (
            <div className="min-h-screen flex flex-col items-center justify-center p-6 bg-bg relative overflow-hidden">
                {/* æ¥µç°¡èƒŒæ™¯å…‰æšˆ */}
                <div className="absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none">
                    <div className="absolute top-[-10%] right-[-10%] w-[400px] h-[400px] bg-roseGold-light/10 rounded-full blur-[100px]"></div>
                    <div className="absolute bottom-[-10%] left-[-10%] w-[400px] h-[400px] bg-roseGold/10 rounded-full blur-[100px]"></div>
                </div>

                {/* Logo å€åŸŸ */}
                <div className="w-32 h-32 mx-auto mb-8 relative animate-float">
                    <div className="w-full h-full bg-white rounded-full shadow-soft flex items-center justify-center overflow-hidden relative z-10 border border-gray-100">
                        <img src="logo.png" alt="Logo" className="w-full h-full object-cover" />
                    </div>
                </div>
                
                {/* --- å„ªåŒ–å¾Œçš„é«˜ç´šæ„Ÿæ¨™é¡Œå€åŸŸ --- */}
                <div className="text-center space-y-2 mb-12">
                    <h1 className="text-5xl md:text-6xl font-display font-semibold text-primary mb-1 tracking-wide leading-tight">
                        Dream 17
                    </h1>
                    
                    <div className="flex items-center justify-center gap-2 mb-3">
                        <div className="h-[1px] w-8 bg-gold/40"></div>
                        <div className="w-1.5 h-1.5 rounded-full bg-gold"></div>
                        <div className="h-[1px] w-8 bg-gold/40"></div>
                    </div>

                    <p className="text-gold font-elegant text-base md:text-lg font-light tracking-[0.4em] uppercase">
                        ç²¾å“å¯µç‰©ç¾å®¹æ—…é¤¨
                    </p>
                </div>

                {/* æŒ‰éˆ•å€åŸŸ - ç«ç‘°é‡‘æ¼¸å±¤é•·æ–¹å½¢å¡ç‰‡ (å°ºå¯¸ç¸®å°ç‰ˆ) */}
                <div className="grid md:grid-cols-2 gap-5 w-full max-w-2xl relative z-10">
                    {/* ç¾å®¹æŒ‰éˆ• - ç«ç‘°é‡‘ç³» */}
                    <button onClick={() => { setView('form'); setIsBoarding(false); }} className="hero-btn-card pink">
                        <div className="gradient-bg"></div>
                        <div className="shimmer-layer"></div>
                        <div className="icon-wrapper">
                            <Icon name="scissors" size={28} /> {/* ç¸®å°åœ–æ¨™ï¼šåŸæœ¬ 32 -> 28 */}
                        </div>
                        <div className="hero-content">
                            <h3 className="text-xl font-black tracking-tight mb-1">ç¾å®¹æœå‹™</h3> {/* ç¸®å°æ¨™é¡Œå­—é«”ï¼šåŸæœ¬ 2xl -> xl */}
                            <p className="text-[10px] font-medium tracking-widest uppercase opacity-80 mb-1">Grooming Service</p> {/* ç¸®å°å‰¯æ¨™å­—é«” */}
                            <p className="text-xs font-medium">å°ˆæ¥­ç¾å®¹å¸« â€¢ ç²¾ç·»æ´—è­·</p> {/* ç¸®å°æè¿°å­—é«” */}
                        </div>
                    </button>
                    
                    {/* ä½å®¿æŒ‰éˆ• - ç«ç‘°é‡‘æ·±è‰²ç³» */}
                    <button onClick={() => { setView('form'); setIsBoarding(true); }} className="hero-btn-card blue">
                        <div className="gradient-bg"></div>
                        <div className="shimmer-layer"></div>
                        <div className="icon-wrapper">
                            <Icon name="home" size={28} />
                        </div>
                        <div className="hero-content">
                            <h3 className="text-xl font-black tracking-tight mb-1">ä½å®¿æœå‹™</h3>
                            <p className="text-[10px] font-medium tracking-widest uppercase opacity-80 mb-1">Boarding Service</p>
                            <p className="text-xs font-medium">24Hç›£æ§ â€¢ èˆ’é©ç©ºé–“</p>
                        </div>
                    </button>
                </div>

                {/* --- è¯çµ¡è³‡è¨Šå€å¡Š --- */}
                <div className="mt-16 w-full max-w-md relative z-10 space-y-6">
                    <div className="text-center space-y-2">
                        <h3 className="text-lg font-bold text-primary">è¯çµ¡æˆ‘å€‘</h3>
                        <div className="h-1 w-12 bg-pink mx-auto rounded-full"></div>
                    </div>

                    <div className="grid grid-cols-3 gap-4">
                        {/* FB */}
                        <a href="https://www.facebook.com/p/%E5%A4%A217%E7%B2%BE%E5%93%81%E5%AF%B5%E7%89%A9%E7%BE%8E%E5%AE%B9%E6%97%85%E9%A4%A8-Dream17-Pet-Shop-100082362800996/" target="_blank" rel="noopener noreferrer" 
                           className="flex flex-col items-center justify-center p-4 bg-white rounded-2xl border border-gray-100 hover:border-pink hover:bg-pink/5 transition-all group">
                            <div className="w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center text-blue-600 mb-2 group-hover:scale-110 transition-transform">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
                            </div>
                            <span className="text-xs font-bold text-gray-500 group-hover:text-blue-600">Facebook</span>
                        </a>

                        {/* IG */}
                        <a href="https://www.instagram.com/dream17_pet_shop_hotel?fbclid=IwY2xjawPbQXlleHRuA2FlbQIxMABicmlkETF3a0x6SDhIMVh3RlRIS29Vc3J0YwZhcHBfaWQQMjIyMDM5MTc4ODIwMDg5MgABHnW0xvqstiLsmI9W0aUAIFQRwjF3QllZj0Vr8564YJGrtKTTwsCwLFWp2Dsz_aem_XDbS8efUVsucjatveLzX4w" target="_blank" rel="noopener noreferrer" 
                           className="flex flex-col items-center justify-center p-4 bg-white rounded-2xl border border-gray-100 hover:border-pink hover:bg-pink/5 transition-all group">
                            <div className="w-10 h-10 rounded-full bg-pink-50 flex items-center justify-center text-pink-600 mb-2 group-hover:scale-110 transition-transform">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
                            </div>
                            <span className="text-xs font-bold text-gray-500 group-hover:text-pink-600">Instagram</span>
                        </a>

                        {/* LINE */}
                        <a href="https://lin.ee/Xvtvuhs" target="_blank" rel="noopener noreferrer" 
                           className="flex flex-col items-center justify-center p-4 bg-white rounded-2xl border border-gray-100 hover:border-green-500 hover:bg-green-50/50 transition-all group">
                            <div className="w-10 h-10 rounded-full bg-green-50 flex items-center justify-center text-green-600 mb-2 group-hover:scale-110 transition-transform">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
                            </div>
                            <span className="text-xs font-bold text-gray-500 group-hover:text-green-600">LINE</span>
                        </a>
                    </div>

                    <div className="text-center text-xs text-gray-500 space-y-2 pt-2 leading-relaxed">
                        <p>ğŸ  åœ°å€ï¼šæ¡ƒåœ’å¸‚ä¸­å£¢å€å…¬åœ’è·¯äºŒæ®µ250è™Ÿ</p>
                        <p>â˜ï¸ é›»è©±ï¼š03-2875350</p>
                        <p>â° ç‡Ÿæ¥­æ™‚é–“ï¼š10:00-19:00</p>
                        <p>ğŸª§ ç‰¹å¯µæ¥­å­—ç¬¬C1110588è™Ÿ</p>
                    </div>
                </div>

                <footer className="mt-12 text-center relative z-10">
                    <p className="text-[10px] text-gray-400 font-medium tracking-wider">å¤¢17ç²¾å“å¯µç‰©ç¾å®¹æ—…é¤¨</p>
                </footer>
            </div>
        );
    }

    // Render Form View
    return (
        <div className="min-h-screen pb-32 bg-bg">
            {toast && <Toast message={toast.message} type={toast.type} onClose={() => setToast(null)} />}

            <nav className="fixed top-0 w-full z-40 bg-white/80 backdrop-blur-xl border-b border-gray-100 shadow-sm">
                <div className="px-6 py-4 flex justify-between items-center max-w-4xl mx-auto">
                    <div className="flex items-center gap-3 cursor-pointer group" onClick={() => setView('entry')}>
                        <div className="w-8 h-8 rounded-full bg-roseGold flex items-center justify-center text-white group-hover:rotate-12 transition-transform overflow-hidden">
                            <img src="logo.png" alt="Logo" className="w-full h-full object-cover" />
                        </div>
                        <div className="font-black text-lg text-primary tracking-tight font-serif">å¤¢17</div>
                    </div>
                    <button 
                        onClick={() => setView('entry')} 
                        className="text-xs font-bold text-primary hover:text-secondary px-4 py-2 border border-gray-200 rounded-full transition-all flex items-center gap-2"
                    >
                        <Icon name="arrow-left" size={14}/> è¿”å›
                    </button>
                </div>
            </nav>

            <main className="pt-28 px-4 max-w-4xl mx-auto space-y-8 pb-20">
                {/* === å¦‚æœæ˜¯ä½å®¿æœå‹™ï¼Œå…ˆé¡¯ç¤ºæˆ¿å‹ä»‹ç´¹èˆ‡äº®é» (æŠ˜ç–Šç‰ˆ) === */}
                {isBoarding && (
                    <div className="space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500">
                        
                        {/* æŠ˜ç–Šå€å¡Šï¼šè²“å’ªä½å®¿å€ */}
                        <div className="clean-card overflow-hidden">
                            <button 
                                onClick={() => setCatRoomsOpen(!catRoomsOpen)}
                                className="w-full px-6 py-5 flex items-center justify-between bg-white hover:bg-gray-50 transition-colors"
                            >
                                <div className="flex items-center gap-3">
                                    <span className="w-8 h-8 rounded-full bg-pink/20 flex items-center justify-center text-pinkDark shrink-0">
                                        <Icon name="cat" size={16} />
                                    </span>
                                    <div className="text-left">
                                        <h3 className="text-lg font-bold text-primary">è²“å’ªä½å®¿å€</h3>
                                        <p className="text-xs text-secondary">é»æ“ŠæŸ¥çœ‹æˆ¿å‹èˆ‡åƒ¹æ ¼</p>
                                    </div>
                                </div>
                                <Icon 
                                    name="chevron-down" 
                                    size={20} 
                                    className={`text-gray-400 transition-transform duration-300 ${catRoomsOpen ? 'rotate-180' : ''}`} 
                                />
                            </button>
                            
                            {catRoomsOpen && (
                                <div className="p-4 border-t border-gray-100 animate-in slide-in-from-top-2 duration-300">
                                    <div className="flex overflow-x-auto gap-4 pb-4 hide-scrollbar snap-x snap-mandatory">
                                        {[
                                            { name: 'æ¨™æº–æˆ¿', size: '150Ã—88Ã—189 cm', price: '$500/æ™š', desc: 'ç°¡ç´„ä¹¾æ·¨' },
                                            { name: 'ç¶“å…¸æˆ¿', size: '273Ã—87Ã—189 cm', price: '$600/æ™š', desc: 'è·³å°ç©å…·' },
                                            { name: 'æ™¯è§€æˆ¿', size: '99Ã—178Ã—189 cm', price: '$700/æ™š', desc: 'è‡ªç„¶æ¡å…‰' },
                                            { name: 'æ™¯è§€è±ªè¯æˆ¿', size: '221Ã—178Ã—189 cm', price: '$800/æ™š', desc: 'æŒ‘é«˜è¨­è¨ˆ' }
                                        ].map((room, idx) => (
                                            <div key={idx} className="room-card p-4 snap-center shrink-0">
                                                <div className="flex justify-between items-start mb-2">
                                                    <h4 className="font-bold text-primary">{room.name}</h4>
                                                    <span className="text-sm font-bold text-pinkDark">{room.price}</span>
                                                </div>
                                                <p className="text-[10px] text-gray-400 mb-2">{room.size}</p>
                                                <p className="text-xs text-secondary leading-relaxed">{room.desc}</p>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}
                        </div>

                        {/* æŠ˜ç–Šå€å¡Šï¼šç‹—ç‹—ä½å®¿å€ */}
                        <div className="clean-card overflow-hidden">
                            <button 
                                onClick={() => setDogRoomsOpen(!dogRoomsOpen)}
                                className="w-full px-6 py-5 flex items-center justify-between bg-white hover:bg-gray-50 transition-colors"
                            >
                                <div className="flex items-center gap-3">
                                    <span className="w-8 h-8 rounded-full bg-blue/20 flex items-center justify-center text-blueDark shrink-0">
                                        <Icon name="dog" size={16} />
                                    </span>
                                    <div className="text-left">
                                        <h3 className="text-lg font-bold text-primary">ç‹—ç‹—ä½å®¿å€</h3>
                                        <p className="text-xs text-secondary">é»æ“ŠæŸ¥çœ‹æˆ¿å‹èˆ‡åƒ¹æ ¼</p>
                                    </div>
                                </div>
                                <Icon 
                                    name="chevron-down" 
                                    size={20} 
                                    className={`text-gray-400 transition-transform duration-300 ${dogRoomsOpen ? 'rotate-180' : ''}`} 
                                />
                            </button>
                            
                            {dogRoomsOpen && (
                                <div className="p-4 border-t border-gray-100 animate-in slide-in-from-top-2 duration-300">
                                    <div className="flex overflow-x-auto gap-4 pb-4 hide-scrollbar snap-x snap-mandatory">
                                        {[
                                            { name: 'æ¨™æº–æˆ¿', size: '120Ã—150Ã—121 cm', price: '$600/æ™š', desc: 'å°å‹çŠ¬é©ç”¨' },
                                            { name: 'ç¶“å…¸æˆ¿', size: '170Ã—150Ã—121 cm', price: '$700/æ™š', desc: 'è‡ªåœ¨ç¿»èº«' },
                                            { name: 'è±ªè¯æˆ¿', size: '175Ã—150Ã—121 cm', price: '$800/æ™š', desc: 'å¯¬æ•ä¸æ“æ“ ' },
                                            { name: 'å¤¢17ç¶“å…¸æˆ¿', size: '175Ã—200Ã—252 cm', price: '$1200/æ™š', desc: 'é«˜æŒ‘å¤§ç©ºé–“' }
                                        ].map((room, idx) => (
                                            <div key={idx} className="room-card p-4 snap-center shrink-0">
                                                <div className="flex justify-between items-start mb-2">
                                                    <h4 className="font-bold text-primary">{room.name}</h4>
                                                    <span className="text-sm font-bold text-blueDark">{room.price}</span>
                                                </div>
                                                <p className="text-[10px] text-gray-400 mb-2">{room.size}</p>
                                                <p className="text-xs text-secondary leading-relaxed">{room.desc}</p>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}
                        </div>

                        {/* æŠ˜ç–Šå€å¡Šï¼šå“ç‰Œäº®é» */}
                        <div className="clean-card overflow-hidden">
                            <button 
                                onClick={() => setFeaturesOpen(!featuresOpen)}
                                className="w-full px-6 py-5 flex items-center justify-between bg-white hover:bg-gray-50 transition-colors"
                            >
                                <div className="flex items-center gap-3">
                                    <span className="w-8 h-8 rounded-full bg-gold/20 flex items-center justify-center text-gold shrink-0">
                                        <Icon name="star" size={16} />
                                    </span>
                                    <div className="text-left">
                                        <h3 className="text-lg font-bold text-primary">ç‚ºä»€éº¼é¸æ“‡å¤¢17ï¼Ÿ</h3>
                                        <p className="text-xs text-secondary">é»æ“ŠæŸ¥çœ‹ä¸‰å¤§ç‰¹è‰²</p>
                                    </div>
                                </div>
                                <Icon 
                                    name="chevron-down" 
                                    size={20} 
                                    className={`text-gray-400 transition-transform duration-300 ${featuresOpen ? 'rotate-180' : ''}`} 
                                />
                            </button>
                            
                            {featuresOpen && (
                                <div className="p-4 border-t border-gray-100 animate-in slide-in-from-top-2 duration-300">
                                    <div className="flex overflow-x-auto gap-4 pb-4 hide-scrollbar snap-x snap-mandatory px-2">
                                        <div className="feature-card snap-center shrink-0">
                                            <div className="feature-icon" style={{background: 'linear-gradient(135deg, #FFD1DC 0%, #FFB7B2 100%)'}}>
                                                <Icon name="clock" size={24} />
                                            </div>
                                            <h4 className="font-bold text-primary text-sm mb-1">24Hç›£æ§</h4>
                                            <p className="text-[10px] text-secondary leading-tight">å…¨å¤©å€™ç›£æ§ç³»çµ±ï¼Œè®“æ‚¨éš¨æ™‚æŸ¥çœ‹æ¯›å­©ç‹€æ…‹ï¼Œå®‰å¿ƒåˆæ”¾å¿ƒã€‚</p>
                                        </div>
                                        <div className="feature-card snap-center shrink-0">
                                            <div className="feature-icon" style={{background: 'linear-gradient(135deg, #AEC6CF 0%, #9BB8CC 100%)'}}>
                                                <Icon name="maximize" size={24} />
                                            </div>
                                            <h4 className="font-bold text-primary text-sm mb-1">è¶…å¤§ç©ºé–“</h4>
                                            <p className="text-[10px] text-secondary leading-tight">é’åŸ”æœ€å¤§å®¤å…§å¯µç‰©ä½å®¿ï¼Œä¸é—œç± è¨­è¨ˆï¼Œæ¯›å­©å¯ä»¥è‡ªç”±æ´»å‹•ã€‚</p>
                                        </div>
                                        <div className="feature-card snap-center shrink-0">
                                            <div className="feature-icon" style={{background: 'linear-gradient(135deg, #FFD1DC 0%, #FFB7B2 100%)'}}>
                                                <Icon name="heart" size={24} />
                                            </div>
                                            <h4 className="font-bold text-primary text-sm mb-1">å°ˆæ¥­ç…§è­·</h4>
                                            <p className="text-[10px] text-secondary leading-tight">å°ˆæ¥­ç¾å®¹å¸«åœ˜éšŠï¼Œæä¾›æ´—æ¾¡ã€ç¾å®¹ã€SPAæŒ‰æ‘©ç­‰å…¨æ–¹ä½æœå‹™ã€‚</p>
                                        </div>
                                    </div>
                                </div>
                            )}
                        </div>

                    </div>
                )}

                {/* === è¡¨å–®æ¨™é¡Œ === */}
                <div className="text-center space-y-2 mb-8">
                    <h2 className="text-3xl font-black text-primary tracking-tight font-serif">
                        {isBoarding ? "ä½å®¿èˆ‡ç¾å®¹æœå‹™å¥‘ç´„" : "ç¾å®¹æœå‹™å¥‘ç´„"}
                    </h2>
                    <p className="text-sm text-secondary font-medium max-w-md mx-auto">
                        æ°¸é ä»¥æ¯›å°å­©ç‚ºå‡ºç™¼é»è‘—æƒ³ï¼Œç„¡å¾®ä¸è‡³çš„ç…§é¡§æ˜¯æˆ‘å€‘å°æ¯›å°å­©æ„›çš„å›é¥‹ã€‚
                    </p>
                </div>

                {/* 1. é£¼ä¸»è³‡æ–™ */}
                <section className="clean-card p-8 md:p-10 space-y-6">
                    <div className="flex items-center gap-3 mb-6">
                        <div className="w-10 h-10 rounded-full bg-pink/20 flex items-center justify-center text-pinkDark">
                            <Icon name="user" size={20}/>
                        </div>
                        <h3 className="text-xl font-bold text-primary font-serif">é£¼ä¸»åŸºæœ¬è³‡æ–™</h3>
                    </div>
                    <div className="grid md:grid-cols-2 gap-6">
                        <div className="space-y-2">
                            <label className="text-xs font-bold text-secondary ml-1">é£¼ä¸»å§“å</label>
                            <input 
                                className="soft-input" 
                                placeholder="è«‹è¼¸å…¥å§“å"
                                value={formData.owner_name}
                                onChange={e=>handleChange('owner_name', e.target.value)}
                            />
                        </div>
                        <div className="space-y-2">
                            <label className="text-xs font-bold text-secondary ml-1">é€£çµ¡é›»è©±</label>
                            <input 
                                className="soft-input" 
                                placeholder="0912345678"
                                value={formData.phone}
                                onChange={e=>handleChange('phone', e.target.value)}
                            />
                        </div>
                        <div className="space-y-2 md:col-span-2">
                            <label className="text-xs font-bold text-secondary ml-1">é›»å­éƒµä»¶ (å¯„é€å¥‘ç´„å‰¯æœ¬)</label>
                            <input 
                                className="soft-input" 
                                placeholder="example@email.com"
                                type="email"
                                value={formData.email}
                                onChange={e=>handleChange('email', e.target.value)}
                            />
                        </div>
                    </div>
                </section>

                {/* 2. å¯µç‰©è³‡æ–™ */}
                <section className="clean-card p-8 md:p-10 space-y-6">
                    <div className="flex items-center gap-3 mb-6">
                        <div className="w-10 h-10 rounded-full bg-blue/20 flex items-center justify-center text-blueDark">
                            <Icon name="paw-print" size={20}/>
                        </div>
                        <h3 className="text-xl font-bold text-primary font-serif">æ¯›å­©è³‡æ–™</h3>
                    </div>
                    <div className="grid md:grid-cols-2 gap-6">
                        <div className="space-y-2">
                            <label className="text-xs font-bold text-secondary ml-1">å¯µç‰©åå­—</label>
                            <input 
                                className="soft-input" 
                                placeholder="ä¾‹å¦‚ï¼šæ—ºè²¡"
                                value={formData.pet_name}
                                onChange={e=>handleChange('pet_name', e.target.value)}
                            />
                        </div>
                        <div className="space-y-2">
                            <label className="text-xs font-bold text-secondary ml-1">å“ç¨®</label>
                            <input 
                                className="soft-input" 
                                placeholder="ä¾‹å¦‚ï¼šé»ƒé‡‘çµçŠ¬"
                                value={formData.breed}
                                onChange={e=>handleChange('breed', e.target.value)}
                            />
                        </div>
                        <div className="space-y-2">
                            <label className="text-xs font-bold text-secondary ml-1">æ€§åˆ¥</label>
                            <div className="flex gap-2">
                                {pillBtn('sex', 'å…¬', formData.sex==='å…¬', 'pink')}
                                {pillBtn('sex', 'æ¯', formData.sex==='æ¯', 'pink')}
                            </div>
                        </div>
                        <div className="space-y-2">
                            <label className="text-xs font-bold text-secondary ml-1">çµç´®</label>
                            <div className="flex gap-2">
                                {pillBtn('fix', 'æ˜¯', formData.fix==='æ˜¯', 'blue')}
                                {pillBtn('fix', 'å¦', formData.fix==='å¦', 'blue')}
                            </div>
                        </div>
                    </div>
                </section>

                {/* 3. æœå‹™æ¢æ¬¾èˆ‡ç°½ç½² */}
                <section className="clean-card p-8 md:p-10 space-y-6">
                    <div className="flex items-center gap-3 mb-6">
                        <div className="w-10 h-10 rounded-full bg-gold/20 flex items-center justify-center text-gold">
                            <Icon name="file-text" size={20}/>
                        </div>
                        <h3 className="text-xl font-bold text-primary font-serif">æœå‹™æ¢æ¬¾èˆ‡ç°½ç½²</h3>
                    </div>
                    
                    <div className="space-y-4">
                        <button 
                            type="button"
                            onClick={() => setActiveModal(isBoarding ? 'boarding' : 'grooming')}
                            className={`w-full flex items-center justify-between p-4 rounded-xl border-2 transition-all ${termsRead[isBoarding ? 'boarding' : 'grooming'] ? 'bg-pink border-pink text-primary' : 'bg-white border-gray-200 hover:border-gray-400'}`}
                        >
                            <span className="font-bold text-sm">
                                {isBoarding ? 'è©³é–±ä½å®¿æœå‹™å¥‘ç´„æ¢æ¬¾' : 'è©³é–±ç¾å®¹æœå‹™å¥‘ç´„æ¢æ¬¾'}
                            </span>
                            <Icon name={termsRead[isBoarding ? 'boarding' : 'grooming'] ? "check-circle" : "chevron-right"} size={20} />
                        </button>
                    </div>

                    <div className="space-y-4 pt-4 border-t border-gray-100">
                        <label className="text-sm font-bold text-primary flex items-center gap-2">
                            <Icon name="pen-tool" size={18}/> æ•¸ä½ç°½å
                        </label>
                        
                        {realtimeSig ? (
                            <div className="bg-white rounded-2xl border-2 border-pink p-4 flex justify-center items-center min-h-[150px]">
                                <img src={realtimeSig} alt="ç°½å" className="max-h-[120px] object-contain" />
                            </div>
                        ) : (
                            <button 
                                type="button" 
                                onClick={() => setShowFullSig(true)} 
                                className="w-full min-h-[150px] rounded-2xl border-2 border-dashed border-gray-300 bg-white flex flex-col items-center justify-center gap-2 text-gray-400 hover:border-pink hover:text-pink transition-all"
                            >
                                <Icon name="pen-tool" size={32} />
                                <span className="text-sm font-bold">é»æ“Šæ­¤è™•é–‹å§‹ç°½å</span>
                            </button>
                        )}
                    </div>
                </section>

                {/* Submit Button - æ ¹æ“šæœå‹™é¡å‹è®Šè‰² */}
                <div className="pt-4">
                    <button 
                        type="button" 
                        onClick={handleSubmit} 
                        disabled={isSubmitting}
                        className={`w-full py-4 rounded-2xl font-bold text-lg shadow-lg hover:shadow-xl hover:scale-[1.01] active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 ${isBoarding ? 'bg-blue text-white hover:bg-blueDark' : 'bg-pink text-white hover:bg-pinkDark'}`}
                    >
                        {isSubmitting ? <Icon name="loader-2" size={20} className="animate-spin"/> : <Icon name="send" size={20}/>}
                        {isSubmitting ? 'æäº¤ä¸­...' : 'ç¢ºèªä¸¦æäº¤æ•¸ä½å¥‘ç´„'}
                    </button>
                </div>
            </main>

            {/* Modals */}
            <TermsModal 
                isOpen={activeModal === 'grooming'} 
                onClose={() => setActiveModal(null)} 
                title="ç¾å®¹æœå‹™å¥‘ç´„æ¢æ¬¾"
                onAgree={() => setTermsRead(prev => ({...prev, grooming: true}))}
            >
                <div className="space-y-4">
                    <p>é€™è£¡æ”¾ç½®ç¾å®¹æœå‹™çš„è©³ç´°æ¢æ¬¾å…§å®¹...</p>
                    <p>ï¼ˆé è¦½ç‰ˆåƒ…å±•ç¤ºçµæ§‹ï¼‰</p>
                    <p>é£¼ä¸»æ‡‰è©³ç›¡ä¸”èª å¯¦ç”³å ±å¯µç‰©å¥åº·ç‹€æ³åŠç‰¹æ®Šéœ€æ±‚...</p>
                    <p>æ”¶è²»ä»¥æ¯›å­©é«”é‡ã€é«”å‹ã€æ¯›é‡ã€æ¯›è³ªç‚ºè©•ä¼°æ¨™æº–...</p>
                    <p>æ•ä¸æ¥å¾…ï¼šæœªæ»¿3å€‹æœˆã€æœªæ‰“å®Œä¸‰åŠ‘ç–«è‹—å¹¼çŠ¬è²“...</p>
                </div>
            </TermsModal>

            <TermsModal 
                isOpen={activeModal === 'boarding'} 
                onClose={() => setActiveModal(null)} 
                title="ä½å®¿æœå‹™å¥‘ç´„æ¢æ¬¾"
                onAgree={() => setTermsRead(prev => ({...prev, boarding: true}))}
            >
                <div className="space-y-4">
                    <p>é€™è£¡æ”¾ç½®ä½å®¿æœå‹™çš„è©³ç´°æ¢æ¬¾å…§å®¹...</p>
                    <p>ï¼ˆé è¦½ç‰ˆåƒ…å±•ç¤ºçµæ§‹ï¼‰</p>
                    <p>å…¥ä½è«‹æä¾›æœ‰æ•ˆç–«è‹—æ¥ç¨®è­‰æ˜æ–‡ä»¶...</p>
                    <p>æä¾›ç¨ç«‹æˆ¿é–“åŠæˆ¶å¤–è‰çš®ï¼ˆé›¨å¤©æ”¹å®¤å…§ï¼‰...</p>
                    <p>é24å°æ™‚ç…§è­·è²æ˜ï¼šæœ¬äººå·²çŸ¥æ‚‰ä¸”åŒæ„...</p>
                </div>
            </TermsModal>

            {/* Fullscreen Signature Pad */}
            {showFullSig && (
                <div className="fixed inset-0 z-[200] bg-white flex flex-col">
                    <div className="flex items-center justify-between p-4 border-b border-gray-100">
                        <h3 className="font-bold text-lg text-primary font-serif">è«‹åœ¨ä¸‹æ–¹ç°½å</h3>
                        <button type="button" onClick={() => setShowFullSig(false)} className="p-2 hover:bg-gray-100 rounded-full">
                            <Icon name="x" size={24}/>
                        </button>
                    </div>
                    <div className="flex-1 p-4 bg-gray-50">
                        <div className="canvas-container w-full h-full bg-white rounded-2xl shadow-inner">
                            <canvas ref={fullSigCanvasRef} className="w-full h-full"></canvas>
                        </div>
                    </div>
                    <div className="p-4 border-t border-gray-100 flex gap-3">
                        <button 
                            type="button"
                            onClick={() => {
                                if (padInstance.current) padInstance.current.clear();
                            }}
                            className="flex-1 py-3 bg-gray-200 text-primary rounded-xl font-bold"
                        >
                            æ¸…é™¤é‡ç°½
                        </button>
                        <button 
                            type="button"
                            onClick={() => {
                                if (padInstance.current && !padInstance.current.isEmpty()) {
                                    setRealtimeSig(padInstance.current.toDataURL('image/jpeg', 0.8));
                                    setShowFullSig(false);
                                }
                            }}
                            className="flex-[2] py-3 bg-pink text-white rounded-xl font-bold shadow-lg"
                        >
                            ç¢ºèªç°½å
                        </button>
                    </div>
                </div>
            )}
        </div>
    );
};

ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>